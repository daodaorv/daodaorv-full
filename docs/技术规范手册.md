# 叨叨房车项目 - 技术规范手册

**文档版本**：v3.0
**最后更新**：2025 年 10 月 29 日
**维护者**：叨叨房车技术团队

---

## 📋 文档说明

本文档是叨叨房车项目的**统一技术规范手册**，用于指导 AI 和开发者正确开发各端功能，避免技术栈混淆。

**核心目标**：

- ✅ 明确各端技术栈，避免混淆
- ✅ 提供清晰的开发规范和约束
- ✅ 指导 AI 正确选择技术方案
- ✅ 确保代码质量和一致性

**所有开发者和 AI 必读**，开发前请务必通读本文档。

---

## 🚨 重要提醒：技术栈识别

### 当前项目技术栈

| 端               | 框架            | UI 组件库          | 状态管理  | 开发语言     |
| ---------------- | --------------- | ------------------ | --------- | ------------ |
| **C 端小程序**   | **uni-app 3.x** | **uView Plus 3.x** | Pinia 2.x | Vue 3 + TS   |
| **B 端 PC 管理** | Vue 3.3+        | Element Plus 2.x   | Pinia 2.x | Vue 3 + TS   |
| **B 端移动管理** | **uni-app 3.x** | **uView Plus 3.x** | Pinia 2.x | Vue 3 + TS   |
| **后端 API**     | Koa 2.x         | -                  | -         | Node.js + TS |

### ⚠️ 技术栈识别规则（AI 必读）

**如何判断当前开发的是哪个端？**

1. **查看文件路径**：

   - `miniprogram/` → C 端小程序（uni-app + uView Plus）
   - `admin-web/` → B 端 PC 管理（Vue 3 + Element Plus）
   - `mobile-admin/` → B 端移动管理（uni-app + uView Plus）
   - `backend/` → 后端 API（Koa + TypeORM）

2. **查看 package.json 依赖**：

   - 包含 `uview-plus` → uni-app 项目
   - 包含 `element-plus` → Vue 3 PC 项目
   - 包含 `koa` → 后端项目

3. **查看文件扩展名和语法**：
   - `.vue` 文件中使用 `<view>`, `<text>` → uni-app
   - `.vue` 文件中使用 `<div>`, `<span>` → Vue 3 PC
   - `.ts` 文件中使用 `uni.xxx` API → uni-app
   - `.ts` 文件中使用 `ctx.xxx` → Koa 后端

### ❌ 禁止的技术栈（已废弃）

| 技术         | 状态        | 说明                     |
| ------------ | ----------- | ------------------------ |
| Taro 3.x     | ❌ 已废弃   | 项目已完全切换到 uni-app |
| NutUI 4.x    | ❌ 已废弃   | 已替换为 uView Plus      |
| Taro.xxx API | ❌ 禁止使用 | 使用 uni.xxx API 代替    |

**AI 开发时严格禁止**：

- ❌ 使用 Taro 相关 API 或组件
- ❌ 使用 NutUI 组件
- ❌ 混淆 uni-app 和 Taro 的语法
- ❌ 在 uni-app 项目中使用标准 HTML 标签（如 `<div>`, `<span>`）

---

## 目录

- [第一部分：技术选型与架构](#第一部分技术选型与架构)
- [第二部分：uni-app 开发规范（核心）](#第二部分uni-app-开发规范核心)
- [第三部分：uView Plus 组件规范](#第三部分uview-plus-组件规范)
- [第四部分：Vue 3 PC 端开发规范](#第四部分vue-3-pc-端开发规范)
- [第五部分：后端开发规范](#第五部分后端开发规范)
- [第六部分：开发流程与最佳实践](#第六部分开发流程与最佳实践)
- [第七部分：官方文档与资源](#第七部分官方文档与资源)

---

# 第一部分：技术选型与架构

## 🏗️ 整体技术架构

```
┌─────────────────────────────────────────────────────────────┐
│                         前端层                               │
├──────────────────┬──────────────────┬──────────────────────┤
│   C端用户应用     │   B端管理系统     │   B端移动管理        │
├──────────────────┼──────────────────┼──────────────────────┤
│ 小程序（微信）    │ PC Web管理端     │ 管理员小程序          │
│ 小程序（支付宝）  │                  │                      │
│ 小程序（抖音）    │ Vue 3.x          │ uni-app 3.x          │
│ H5网页版         │ Element Plus     │ Vue 3.x              │
│                  │ Vite             │ uView Plus           │
│ uni-app 3.x      │                  │                      │
│ Vue 3.x          │ 功能：           │ 功能：                │
│ uView Plus       │ - 全部管理功能    │ - 订单管理            │
│                  │ - 数据分析       │ - 取还车执行          │
│                  │ - 配置管理       │ - 客服工作台          │
│                  │ - 权限管理       │ - 续租/事故处理       │
└──────────────────┴──────────────────┴──────────────────────┘
                             ↓
┌─────────────────────────────────────────────────────────────┐
│                      统一后端API层                           │
├─────────────────────────────────────────────────────────────┤
│ 框架：Node.js 18.x + Koa2 + TypeScript                      │
│ ORM：TypeORM + MySQL 8.0                                    │
│ 缓存：Redis 7.x                                             │
│ 文件存储：阿里云 OSS                                         │
│ 实时通信：Socket.io 4.x                                     │
└─────────────────────────────────────────────────────────────┘
```

## 📱 各端技术栈详解

### 1. C 端用户应用（小程序 + H5）

**项目路径**：`miniprogram/`

**技术栈**：

```yaml
框架: uni-app 3.x
编译器: HBuilderX / Vite
开发语言: Vue 3 + Composition API + TypeScript 5.2+
UI组件库: uView Plus 3.x
状态管理: Pinia 2.x
HTTP请求: uni.request 封装
样式预处理: Sass/SCSS
代码规范: ESLint + Prettier
```

**多端支持**：

- ✅ 微信小程序
- ✅ 支付宝小程序
- ✅ 抖音小程序
- ✅ H5 网页版

**开发工具**：

- HBuilderX（官方 IDE，推荐）
- VS Code + uni-app 插件（可选）

**核心特性**：

- 一套代码，多端运行
- 使用 Vue 3 Composition API
- 使用 uni-app 内置组件（`<view>`, `<text>` 等）
- 使用 uView Plus UI 组件库
- 使用 `uni.xxx` API（如 `uni.request`, `uni.showToast`）

### 2. B 端 PC 管理系统

**项目路径**：`admin-web/`

**技术栈**：

```yaml
框架: Vue 3.3+
构建工具: Vite 4.x
UI组件库: Element Plus 2.x
状态管理: Pinia 2.x
路由: Vue Router 4.x
HTTP请求: Axios
图表: ECharts 5.x
富文本: Quill / TinyMCE
开发语言: Vue 3 + Composition API + TypeScript
```

**核心特性**：

- 标准 Vue 3 单页应用
- 使用标准 HTML 标签（`<div>`, `<span>` 等）
- 使用 Element Plus 组件库
- 使用 Axios 进行 HTTP 请求

### 3. B 端移动管理小程序

**项目路径**：`mobile-admin/`

**技术栈**：

```yaml
框架: uni-app 3.x
开发语言: Vue 3 + Composition API + TypeScript 5.2+
UI组件库: uView Plus 3.x + 自定义组件
状态管理: Pinia 2.x
目标平台: 微信小程序、H5 网页版、支付宝小程序
```

**核心特性**：

- 与 C 端小程序技术栈一致
- 使用 uni-app 内置组件
- 使用 uView Plus UI 组件库
- 使用 `uni.xxx` API

### 4. 后端 API 服务

**项目路径**：`backend/`

**技术栈**：

```yaml
运行时: Node.js 18.x LTS
框架: Koa 2.x
开发语言: TypeScript 5.x
ORM: TypeORM 0.3.x
数据库: MySQL 8.0
缓存: Redis 7.x
实时通信: Socket.io 4.x
任务队列: Bull (基于 Redis)
文件存储: 阿里云 OSS
支付: 微信支付 SDK + 支付宝 SDK
日志: Winston
测试: Jest, Supertest, ts-jest
进程管理: PM2
```

---

# 第二部分：uni-app 开发规范（核心）

## 🎯 uni-app 核心概念

### 1. uni-app 是什么？

uni-app 是一个使用 Vue.js 开发所有前端应用的框架，开发者编写一套代码，可发布到：

- iOS、Android（App）
- H5
- 微信小程序、支付宝小程序、抖音小程序等各种小程序

### 2. uni-app 与标准 Vue 3 的区别

| 特性     | uni-app                       | 标准 Vue 3                 |
| -------- | ----------------------------- | -------------------------- |
| 模板标签 | `<view>`, `<text>`, `<image>` | `<div>`, `<span>`, `<img>` |
| API 调用 | `uni.xxx`（如 `uni.request`） | 浏览器 API（如 `fetch`）   |
| 样式单位 | `rpx`（响应式像素）           | `px`, `rem`, `em`          |
| 路由跳转 | `uni.navigateTo`              | `router.push`              |
| 生命周期 | 页面生命周期 + 组件生命周期   | 组件生命周期               |

### 3. 项目结构规范

```
miniprogram/
├── pages/                    # 页面文件
│   ├── index/               # 首页
│   │   └── index.vue
│   ├── login/               # 登录页
│   │   └── index.vue
│   └── ...
├── pages-prototype/         # 页面原型（HTML）
│   └── index.html           # 所有原型页面
├── components/              # 组件
│   ├── common/             # 通用组件
│   └── business/           # 业务组件
├── static/                  # 静态资源
│   ├── images/             # 图片
│   ├── icons/              # 图标
│   └── ...
├── store/                   # Pinia 状态管理
│   ├── index.ts            # Store 入口
│   └── modules/            # 模块
│       ├── user.ts         # 用户模块
│       └── ...
├── api/                     # API 接口
│   ├── index.ts            # API 入口
│   └── modules/            # 模块
│       ├── user.ts         # 用户接口
│       └── ...
├── utils/                   # 工具函数
│   ├── request.ts          # 请求封装
│   ├── auth.ts             # 认证工具
│   ├── router.ts           # 路由工具
│   └── ...
├── config/                  # 配置文件
│   ├── index.ts            # 全局配置
│   └── page-auth.ts        # 页面权限配置
├── styles/                  # 全局样式
│   ├── variables.scss      # 变量
│   └── common.scss         # 通用样式
├── types/                   # TypeScript 类型定义
│   ├── api.d.ts            # API 类型
│   └── global.d.ts         # 全局类型
├── pages.json              # 页面配置
├── manifest.json           # 应用配置
├── App.vue                 # 应用入口
├── main.ts                 # 主入口文件
├── uni.scss                # uni-app 内置样式变量
└── tsconfig.json           # TypeScript 配置
```

## 📝 uni-app 组件使用规范

### 1. 组件优先级

```
1. uni-app 内置组件（最高优先级）
   ↓
2. uView Plus 组件
   ↓
3. 自定义业务组件
   ↓
4. 第三方组件（谨慎使用）
```

### 2. 内置组件使用规范

#### 2.1 视图容器组件

| 组件            | 用途       | 对应 HTML          | 注意事项               |
| --------------- | ---------- | ------------------ | ---------------------- |
| `<view>`        | 视图容器   | `<div>`            | 最常用的容器组件       |
| `<scroll-view>` | 可滚动视图 | `<div>` + overflow | 必须设置高度           |
| `<swiper>`      | 滑块视图   | -                  | 用于轮播图             |
| `<swiper-item>` | 滑块项     | -                  | 只能放在 `<swiper>` 中 |

**示例**：

```vue
<template>
  <view class="container">
    <scroll-view scroll-y class="scroll-area" style="height: 500rpx;">
      <view class="item">内容 1</view>
      <view class="item">内容 2</view>
    </scroll-view>
  </view>
</template>
```

#### 2.2 基础内容组件

| 组件          | 用途   | 对应 HTML    | 注意事项          |
| ------------- | ------ | ------------ | ----------------- |
| `<text>`      | 文本   | `<span>`     | 只能嵌套 `<text>` |
| `<rich-text>` | 富文本 | -            | 支持 HTML 字符串  |
| `<progress>`  | 进度条 | `<progress>` | -                 |

**示例**：

```vue
<template>
  <view class="container">
    <text class="title">叨叨房车</text>
    <rich-text :nodes="htmlContent"></rich-text>
  </view>
</template>
```

#### 2.3 表单组件

| 组件         | 用途     | 对应 HTML                 | 注意事项       |
| ------------ | -------- | ------------------------- | -------------- |
| `<button>`   | 按钮     | `<button>`                | 支持开放能力   |
| `<input>`    | 输入框   | `<input>`                 | 注意平台差异   |
| `<textarea>` | 多行输入 | `<textarea>`              | 自动高度需设置 |
| `<picker>`   | 选择器   | `<select>`                | 多种模式       |
| `<switch>`   | 开关     | -                         | -              |
| `<checkbox>` | 复选框   | `<input type="checkbox">` | -              |
| `<radio>`    | 单选框   | `<input type="radio">`    | -              |

**示例**：

```vue
<template>
  <view class="form">
    <input
      v-model="phone"
      type="number"
      placeholder="请输入手机号"
      maxlength="11"
    />
    <button type="primary" @click="handleSubmit">提交</button>
  </view>
</template>
```

#### 2.4 媒体组件

| 组件      | 用途 | 对应 HTML | 注意事项     |
| --------- | ---- | --------- | ------------ |
| `<image>` | 图片 | `<img>`   | 必须设置宽高 |
| `<video>` | 视频 | `<video>` | -            |
| `<audio>` | 音频 | `<audio>` | -            |

**示例**：

```vue
<template>
  <view class="media">
    <image
      src="/static/logo.png"
      mode="aspectFit"
      style="width: 200rpx; height: 200rpx;"
    />
  </view>
</template>
```

### 3. 组件使用注意事项

#### 3.1 ❌ 禁止使用标准 HTML 标签

```vue
<!-- ❌ 错误示例 -->
<template>
  <div class="container">
    <span class="text">叨叨房车</span>
    <img src="/static/logo.png" />
  </div>
</template>

<!-- ✅ 正确示例 -->
<template>
  <view class="container">
    <text class="text">叨叨房车</text>
    <image src="/static/logo.png" mode="aspectFit" />
  </view>
</template>
```

#### 3.2 ✅ 必须设置图片宽高

```vue
<!-- ❌ 错误示例 -->
<image src="/static/logo.png" />

<!-- ✅ 正确示例 -->
<image
  src="/static/logo.png"
  mode="aspectFit"
  style="width: 200rpx; height: 200rpx;"
/>
```

#### 3.3 ✅ scroll-view 必须设置高度

```vue
<!-- ❌ 错误示例 -->
<scroll-view scroll-y>
  <view>内容</view>
</scroll-view>

<!-- ✅ 正确示例 -->
<scroll-view scroll-y style="height: 500rpx;">
  <view>内容</view>
</scroll-view>
```

## 🔌 uni-app API 使用规范

### 1. 常用 API 分类

#### 1.1 网络请求

```typescript
// ✅ 正确示例：使用封装的 request
import { request } from "@/utils/request";

const getUserInfo = async () => {
  const res = await request({
    url: "/api/user/info",
    method: "GET",
  });
  return res.data;
};

// ❌ 错误示例：直接使用 uni.request
uni.request({
  url: "https://api.example.com/user/info",
  success: (res) => {
    console.log(res.data);
  },
});
```

#### 1.2 路由跳转

```typescript
// 保留当前页面，跳转到应用内的某个页面
uni.navigateTo({
  url: "/pages/detail/index?id=123",
});

// 关闭当前页面，跳转到应用内的某个页面
uni.redirectTo({
  url: "/pages/login/index",
});

// 跳转到 tabBar 页面
uni.switchTab({
  url: "/pages/index/index",
});

// 关闭所有页面，打开到应用内的某个页面
uni.reLaunch({
  url: "/pages/index/index",
});

// 返回上一页
uni.navigateBack({
  delta: 1,
});
```

#### 1.3 数据缓存

```typescript
// 存储数据
uni.setStorageSync("token", "xxx");

// 读取数据
const token = uni.getStorageSync("token");

// 删除数据
uni.removeStorageSync("token");

// 清空所有数据
uni.clearStorageSync();
```

#### 1.4 界面交互

```typescript
// 显示消息提示框
uni.showToast({
  title: "操作成功",
  icon: "success",
  duration: 2000,
});

// 显示 loading 提示框
uni.showLoading({
  title: "加载中...",
});

// 隐藏 loading 提示框
uni.hideLoading();

// 显示模态对话框
uni.showModal({
  title: "提示",
  content: "确定要删除吗？",
  success: (res) => {
    if (res.confirm) {
      console.log("用户点击确定");
    }
  },
});
```

### 2. 平台差异处理

#### 2.1 条件编译

```vue
<template>
  <view>
    <!-- #ifdef MP-WEIXIN -->
    <view>仅在微信小程序显示</view>
    <!-- #endif -->

    <!-- #ifdef MP-ALIPAY -->
    <view>仅在支付宝小程序显示</view>
    <!-- #endif -->

    <!-- #ifdef H5 -->
    <view>仅在 H5 显示</view>
    <!-- #endif -->
  </view>
</template>

<script setup lang="ts">
// #ifdef MP-WEIXIN
import { wechatLogin } from "@/utils/wechat";
// #endif

// #ifdef MP-ALIPAY
import { alipayLogin } from "@/utils/alipay";
// #endif
</script>

<style lang="scss">
/* #ifdef MP-WEIXIN */
.container {
  background: #07c160;
}
/* #endif */

/* #ifdef MP-ALIPAY */
.container {
  background: #1677ff;
}
/* #endif */
</style>
```

#### 2.2 平台判断

```typescript
// 判断当前平台
// #ifdef MP-WEIXIN
console.log("当前是微信小程序");
// #endif

// #ifdef MP-ALIPAY
console.log("当前是支付宝小程序");
// #endif

// #ifdef H5
console.log("当前是 H5");
// #endif

// 运行时判断
const platform = uni.getSystemInfoSync().platform;
if (platform === "ios") {
  console.log("iOS 平台");
} else if (platform === "android") {
  console.log("Android 平台");
}
```

## 🎨 uni-app 样式规范

### 1. 样式单位

#### 1.1 rpx（响应式像素）

- **定义**：rpx 是 uni-app 提供的响应式像素单位
- **规则**：规定屏幕宽度为 750rpx
- **换算**：在 iPhone 6 上，1rpx = 0.5px

```scss
// ✅ 推荐使用 rpx
.container {
  width: 750rpx;
  padding: 32rpx;
  font-size: 28rpx;
}

// ❌ 不推荐使用 px（除非需要固定尺寸）
.container {
  width: 375px;
  padding: 16px;
}
```

#### 1.2 upx（兼容写法）

```scss
// upx 会自动转换为 rpx
.container {
  width: 750upx; // 等同于 750rpx
}
```

### 2. 样式选择器

#### 2.1 支持的选择器

```scss
// ✅ 支持的选择器
.class {
} // 类选择器
#id {
} // ID 选择器
element {
} // 元素选择器
element,
element {
} // 并集选择器
.class .class {
} // 后代选择器
.class > .class {
} // 子选择器
::before {
} // 伪元素
::after {
} // 伪元素
```

#### 2.2 不支持的选择器

```scss
// ❌ 不支持的选择器
* {
} // 通配符选择器
[attribute] {
} // 属性选择器
element:hover {
} // 伪类选择器（部分平台不支持）
```

### 3. 样式导入

```vue
<style lang="scss">
// 导入全局样式
@import "@/styles/variables.scss";
@import "@/styles/common.scss";

.container {
  background: $primary-color;
}
</style>
```

### 4. 样式作用域

```vue
<!-- 使用 scoped 限制样式作用域 -->
<style lang="scss" scoped>
.container {
  padding: 32rpx;
}
</style>

<!-- 全局样式（不使用 scoped） -->
<style lang="scss">
.global-class {
  color: #333;
}
</style>
```

---

# 第三部分：uView Plus 组件规范

## 📦 uView Plus 简介

uView Plus 是 uni-app 生态优秀的 UI 框架，全面兼容 nvue，是 uView UI 的升级版。

**官方文档**：https://uview-plus.jiangruyi.com/

## 🎨 常用组件

### 1. 基础组件

#### 1.1 按钮（u-button）

```vue
<template>
  <view>
    <!-- 主要按钮 -->
    <u-button type="primary" text="主要按钮"></u-button>

    <!-- 成功按钮 -->
    <u-button type="success" text="成功按钮"></u-button>

    <!-- 警告按钮 -->
    <u-button type="warning" text="警告按钮"></u-button>

    <!-- 危险按钮 -->
    <u-button type="error" text="危险按钮"></u-button>

    <!-- 禁用按钮 -->
    <u-button type="primary" text="禁用按钮" :disabled="true"></u-button>

    <!-- 加载中按钮 -->
    <u-button type="primary" text="加载中" :loading="true"></u-button>
  </view>
</template>
```

#### 1.2 图标（u-icon）

```vue
<template>
  <view>
    <u-icon name="home" size="48"></u-icon>
    <u-icon name="search" color="#1989fa" size="48"></u-icon>
  </view>
</template>
```

### 2. 表单组件

#### 2.1 输入框（u-input）

```vue
<template>
  <u-form :model="form" ref="formRef">
    <u-form-item label="手机号" prop="phone">
      <u-input
        v-model="form.phone"
        placeholder="请输入手机号"
        type="number"
        maxlength="11"
      ></u-input>
    </u-form-item>

    <u-form-item label="验证码" prop="code">
      <u-input
        v-model="form.code"
        placeholder="请输入验证码"
        type="number"
        maxlength="6"
      ></u-input>
    </u-form-item>
  </u-form>
</template>

<script setup lang="ts">
import { reactive } from "vue";

const form = reactive({
  phone: "",
  code: "",
});
</script>
```

#### 2.2 选择器（u-picker）

```vue
<template>
  <view>
    <u-picker
      :show="showPicker"
      :columns="columns"
      @confirm="onConfirm"
      @cancel="showPicker = false"
    ></u-picker>
  </view>
</template>

<script setup lang="ts">
import { ref } from "vue";

const showPicker = ref(false);
const columns = ref([["北京", "上海", "广州", "深圳"]]);

const onConfirm = (value: any) => {
  console.log(value);
  showPicker.value = false;
};
</script>
```

### 3. 反馈组件

#### 3.1 消息提示（u-toast）

```typescript
// 在 main.ts 中全局引入
import uviewPlus from "uview-plus";
app.use(uviewPlus);

// 在组件中使用
uni.$u.toast("操作成功");
uni.$u.toast({
  title: "操作失败",
  type: "error",
});
```

#### 3.2 加载提示（u-loading）

```vue
<template>
  <view>
    <u-loading mode="circle" v-if="loading"></u-loading>
  </view>
</template>
```

### 4. 布局组件

#### 4.1 栅格布局（u-row / u-col）

```vue
<template>
  <u-row gutter="16">
    <u-col span="6">
      <view class="col-content">span: 6</view>
    </u-col>
    <u-col span="6">
      <view class="col-content">span: 6</view>
    </u-col>
    <u-col span="12">
      <view class="col-content">span: 12</view>
    </u-col>
  </u-row>
</template>
```

## ⚠️ 使用注意事项

### 1. 组件引入

```vue
<script setup lang="ts">
// ❌ 错误：不需要手动引入组件
import { UButton } from "uview-plus";

// ✅ 正确：uView Plus 组件已全局注册，直接使用即可
</script>
```

### 2. 主题定制

```scss
// uni.scss
$u-primary: #667eea; // 主题色
$u-success: #00b578; // 成功色
$u-warning: #ff8f1f; // 警告色
$u-error: #ff3141; // 错误色
```

---

# 第四部分：开发流程与最佳实践

## 🔄 OpenSpec 开发流程

详见 `openspec/project.md` 中的 8 步循环开发流程。

## 📝 C 端小程序页面开发流程

详见 `miniprogram/pages-prototype/README.md`。

**核心流程**：

1. AI 创建 HTML 原型文件
2. 用户在浏览器中查看和交互测试
3. 用户确认原型设计
4. AI 将原型代码移植到正式页面目录
5. AI 修正 uni-app 特定语法

---

# 第五部分：官方文档与资源

## 📚 uni-app 官方资源

- **官方文档**：https://uniapp.dcloud.net.cn/
- **组件文档**：https://uniapp.dcloud.net.cn/component/
- **API 文档**：https://uniapp.dcloud.net.cn/api/
- **插件市场**：https://ext.dcloud.net.cn/
- **社区论坛**：https://ask.dcloud.net.cn/

## 🎨 uView Plus 官方资源

- **官方文档**：https://uview-plus.jiangruyi.com/
- **组件文档**：https://uview-plus.jiangruyi.com/components/intro.html
- **GitHub**：https://github.com/ijry/uview-plus

## 📱 小程序官方设计规范

- **微信小程序设计指南**：https://developers.weixin.qq.com/miniprogram/design/
- **支付宝小程序设计规范**：https://opendocs.alipay.com/mini/design
- **抖音小程序设计规范**：https://developer.open-douyin.com/docs/resource/zh-CN/mini-app/design/overview

## 🔧 Vue 3 官方资源

- **官方文档**：https://cn.vuejs.org/
- **Composition API**：https://cn.vuejs.org/guide/extras/composition-api-faq.html
- **TypeScript 支持**：https://cn.vuejs.org/guide/typescript/overview.html

## 📦 Pinia 官方资源

- **官方文档**：https://pinia.vuejs.org/zh/
- **核心概念**：https://pinia.vuejs.org/zh/core-concepts/

---

# 附录：常见问题与解决方案

## Q1：如何判断当前开发的是哪个端？

**A**：查看文件路径：

- `miniprogram/` → C 端小程序（uni-app + uView Plus）
- `admin-web/` → B 端 PC 管理（Vue 3 + Element Plus）
- `mobile-admin/` → B 端移动管理（uni-app + uView Plus）
- `backend/` → 后端 API（Koa + TypeORM）

## Q2：uni-app 项目中能使用标准 HTML 标签吗？

**A**：❌ 不能。必须使用 uni-app 内置组件：

- `<div>` → `<view>`
- `<span>` → `<text>`
- `<img>` → `<image>`

## Q3：如何处理多平台差异？

**A**：使用条件编译：

```vue
<!-- #ifdef MP-WEIXIN -->
<view>仅在微信小程序显示</view>
<!-- #endif -->

<!-- #ifdef MP-ALIPAY -->
<view>仅在支付宝小程序显示</view>
<!-- #endif -->
```

## Q4：rpx 和 px 有什么区别？

**A**：

- **rpx**：响应式像素，屏幕宽度固定为 750rpx，会根据屏幕宽度自动缩放
- **px**：固定像素，不会根据屏幕宽度缩放

**推荐使用 rpx**，除非需要固定尺寸。

## Q5：如何在 uni-app 中使用 TypeScript？

**A**：

1. 文件扩展名使用 `.ts`
2. 在 `<script>` 标签中添加 `lang="ts"`
3. 使用 `<script setup lang="ts">` 语法

```vue
<script setup lang="ts">
import { ref } from "vue";

const count = ref<number>(0);
</script>
```

---

**文档版本**：v3.0
**最后更新**：2025-10-29
**维护者**：叨叨房车技术团队
