# DaoDaoRV æ•°æ®å­—å…¸

**æ–‡æ¡£ç‰ˆæœ¬**: v2.0.0
**åˆ›å»ºæ—¶é—´**: 2025-10-24
**æœ€åæ›´æ–°**: 2025-10-28
**æ–‡æ¡£ç±»å‹**: è§„èŒƒæ–‡æ¡£ï¼ˆé•¿æœŸç»´æŠ¤ï¼‰
**ç”¨é€”**: ç»Ÿä¸€å„ç«¯æ•°æ®æ¨¡å‹å’Œå­—æ®µå®šä¹‰ï¼Œä¸åç«¯ä»£ç å®ç°å®Œå…¨ä¸€è‡´

**é‡è¦è¯´æ˜**: æœ¬æ–‡æ¡£ä¸åç«¯å®ä½“æ–‡ä»¶(`backend/src/entities/`)ä¿æŒå®Œå…¨ä¸€è‡´ï¼Œä»»ä½•ä¿®æ”¹å¿…é¡»åŒæ­¥æ›´æ–°ã€‚

---

## ğŸ“‹ ç›®å½•

1. [æ ¸å¿ƒä¸šåŠ¡æ¨¡å‹](#æ ¸å¿ƒä¸šåŠ¡æ¨¡å‹) - ç”¨æˆ·ã€è½¦è¾†ã€è®¢å•
2. [æ”¯ä»˜ä¸è´¢åŠ¡æ¨¡å‹](#æ”¯ä»˜ä¸è´¢åŠ¡æ¨¡å‹) - é’±åŒ…ã€æ”¯ä»˜ã€é€€æ¬¾ã€æç°
3. [ä¼—ç­¹ä¸ç§¯åˆ†æ¨¡å‹](#ä¼—ç­¹ä¸ç§¯åˆ†æ¨¡å‹) - ä¼—ç­¹é¡¹ç›®ã€ä»½é¢ã€åˆ†æ¶¦ã€ç§¯åˆ†
4. [è¥åœ°ç®¡ç†æ¨¡å‹](#è¥åœ°ç®¡ç†æ¨¡å‹) - è¥åœ°ã€è¥ä½ã€é¢„è®¢ã€è¯„ä»·
5. [æ—…æ¸¸ç®¡ç†æ¨¡å‹](#æ—…æ¸¸ç®¡ç†æ¨¡å‹) - æ—…æ¸¸è·¯çº¿ã€æ‰¹æ¬¡ã€é¢„è®¢
6. [ç‰¹æƒ ç§Ÿè½¦æ¨¡å‹](#ç‰¹æƒ ç§Ÿè½¦æ¨¡å‹) - ç‰¹æƒ å¥—é¤ã€è®¢å•
7. [ç¤¾åŒºç®¡ç†æ¨¡å‹](#ç¤¾åŒºç®¡ç†æ¨¡å‹) - å¸–å­ã€è¯„è®ºã€è¯é¢˜ã€äº’åŠ¨ã€ä¸¾æŠ¥
8. [å®¢æœç³»ç»Ÿæ¨¡å‹](#å®¢æœç³»ç»Ÿæ¨¡å‹) - ä¼šè¯ã€æ¶ˆæ¯ã€å·¥å•ã€é…ç½®ã€å¿«æ·å›å¤
9. [ä¼˜æƒ åˆ¸æ¨¡å‹](#ä¼˜æƒ åˆ¸æ¨¡å‹) - ä¼˜æƒ åˆ¸æ¨¡æ¿ã€å‘æ”¾ã€ç”¨æˆ·ä¼˜æƒ åˆ¸
10. [ç”¨æˆ·æ”¶è—æ¨¡å‹](#ç”¨æˆ·æ”¶è—æ¨¡å‹) - ç”¨æˆ·æ”¶è—è®°å½•
11. [æ–‡ä»¶ä¸Šä¼ æ¨¡å‹](#æ–‡ä»¶ä¸Šä¼ æ¨¡å‹) - æ–‡ä»¶ä¸Šä¼ è®°å½•
11. [æšä¸¾å€¼å®šä¹‰](#æšä¸¾å€¼å®šä¹‰) - æ‰€æœ‰æšä¸¾ç±»å‹çš„å®Œæ•´å®šä¹‰
12. [å…³ç³»å›¾](#å…³ç³»å›¾) - å®ä½“ä¹‹é—´çš„å…³è”å…³ç³»

**å®ä½“æ€»æ•°**: 45 ä¸ª

---

## æ ¸å¿ƒä¸šåŠ¡æ¨¡å‹

### 1. Userï¼ˆç”¨æˆ·ï¼‰

**è¡¨å**: `users`
**å®ä½“æ–‡ä»¶**: `backend/src/entities/User.ts`
**è¯´æ˜**: C ç«¯ç”¨æˆ·åŸºç¡€ä¿¡æ¯ï¼ŒåŒ…å«è®¤è¯çŠ¶æ€ã€ä¼šå‘˜ç±»å‹ç­‰

| å­—æ®µå                   | ç±»å‹     | é•¿åº¦ | å¿…å¡« | é»˜è®¤å€¼        | è¯´æ˜               | ç¤ºä¾‹                                    |
| ------------------------ | -------- | ---- | ---- | ------------- | ------------------ | --------------------------------------- |
| id                       | UUID     | 36   | âœ…   | è‡ªåŠ¨ç”Ÿæˆ      | ç”¨æˆ· ID            | 550e8400-e29b-41d4-a716-446655440000    |
| phone                    | String   | 11   | âœ…   | -             | æ‰‹æœºå·ï¼ˆå”¯ä¸€ï¼‰     | 13800138000                             |
| password                 | String   | 255  | âœ…   | -             | å¯†ç ï¼ˆåŠ å¯†ï¼‰       | $2b$10$...                              |
| nickname                 | String   | 50   | âŒ   | null          | æ˜µç§°               | å¼ ä¸‰                                    |
| avatar                   | String   | 255  | âŒ   | null          | å¤´åƒ URL           | https://oss.xxx.com/avatar.jpg          |
| realName                 | String   | 50   | âŒ   | null          | çœŸå®å§“å           | å¼ ä¸‰                                    |
| idCard                   | String   | 18   | âŒ   | null          | èº«ä»½è¯å·           | 110101199003071234                      |
| drivingLicense           | String   | 18   | âŒ   | null          | é©¾é©¶è¯å·           | 110101199003071234                      |
| idCardFrontImage         | String   | 255  | âŒ   | null          | èº«ä»½è¯æ­£é¢ç…§ç‰‡ URL | https://oss.xxx.com/idcard_front.jpg    |
| idCardBackImage          | String   | 255  | âŒ   | null          | èº«ä»½è¯åé¢ç…§ç‰‡ URL | https://oss.xxx.com/idcard_back.jpg     |
| drivingLicenseFrontImage | String   | 255  | âŒ   | null          | é©¾é©¶è¯æ­£é¢ç…§ç‰‡ URL | https://oss.xxx.com/license_front.jpg   |
| drivingLicenseBackImage  | String   | 255  | âŒ   | null          | é©¾é©¶è¯åé¢ç…§ç‰‡ URL | https://oss.xxx.com/license_back.jpg    |
| memberType               | Enum     | -    | âœ…   | normal        | ä¼šå‘˜ç±»å‹           | normal/plus/crowdfunding                |
| realNameStatus           | Enum     | -    | âœ…   | not_submitted | å®åè®¤è¯çŠ¶æ€       | not_submitted/pending/approved/rejected |
| drivingLicenseStatus     | Enum     | -    | âœ…   | not_submitted | é©¾é©¶è¯è®¤è¯çŠ¶æ€     | not_submitted/pending/approved/rejected |
| status                   | Enum     | -    | âœ…   | normal        | è´¦æˆ·çŠ¶æ€           | normal/frozen/banned                    |
| created_at               | DateTime | -    | âœ…   | è‡ªåŠ¨ç”Ÿæˆ      | åˆ›å»ºæ—¶é—´           | 2025-10-24 10:00:00                     |
| updated_at               | DateTime | -    | âœ…   | è‡ªåŠ¨æ›´æ–°      | æ›´æ–°æ—¶é—´           | 2025-10-24 10:00:00                     |

**å…³è”å…³ç³»**:

- ä¸€å¯¹ä¸€: Walletï¼ˆé’±åŒ…ï¼‰
- ä¸€å¯¹ä¸€: OwnerPointsï¼ˆè½¦ä¸»ç§¯åˆ†ï¼‰
- ä¸€å¯¹å¤š: Orderï¼ˆè®¢å•ï¼‰
- ä¸€å¯¹å¤š: CrowdfundingShareï¼ˆä¼—ç­¹ä»½é¢ï¼‰
- ä¸€å¯¹å¤š: UserTagï¼ˆç”¨æˆ·æ ‡ç­¾ï¼‰
- ä¸€å¯¹å¤š: UserAuditLogï¼ˆå®¡è®¡æ—¥å¿—ï¼‰

### 2. UserTagï¼ˆç”¨æˆ·æ ‡ç­¾ï¼‰

**è¡¨å**: `user_tags`
**å®ä½“æ–‡ä»¶**: `backend/src/entities/UserTag.ts`
**è¯´æ˜**: ç”¨æˆ·æ ‡ç­¾ï¼Œç”¨äºç”¨æˆ·åˆ†ç±»å’Œç®¡ç†

| å­—æ®µå     | ç±»å‹     | é•¿åº¦ | å¿…å¡« | é»˜è®¤å€¼   | è¯´æ˜      | ç¤ºä¾‹                                 |
| ---------- | -------- | ---- | ---- | -------- | --------- | ------------------------------------ |
| id         | UUID     | 36   | âœ…   | è‡ªåŠ¨ç”Ÿæˆ | æ ‡ç­¾ ID   | 550e8400-e29b-41d4-a716-446655440000 |
| userId     | UUID     | 36   | âœ…   | -        | ç”¨æˆ· ID   | 550e8400-e29b-41d4-a716-446655440000 |
| tag        | String   | 50   | âœ…   | -        | æ ‡ç­¾åç§°  | VIP å®¢æˆ·                             |
| createdBy  | UUID     | 36   | âŒ   | null     | åˆ›å»ºäºº ID | 550e8400-e29b-41d4-a716-446655440000 |
| created_at | DateTime | -    | âœ…   | è‡ªåŠ¨ç”Ÿæˆ | åˆ›å»ºæ—¶é—´  | 2025-10-24 10:00:00                  |

**å…³è”å…³ç³»**:

- å¤šå¯¹ä¸€: Userï¼ˆç”¨æˆ·ï¼‰

### 3. UserAuditLogï¼ˆç”¨æˆ·å®¡è®¡æ—¥å¿—ï¼‰

**è¡¨å**: `user_audit_logs`
**å®ä½“æ–‡ä»¶**: `backend/src/entities/UserAuditLog.ts`
**è¯´æ˜**: è®°å½•ç”¨æˆ·çš„å…³é”®æ“ä½œï¼Œç”¨äºå®¡è®¡å’Œå®‰å…¨è¿½è¸ª

| å­—æ®µå     | ç±»å‹     | é•¿åº¦ | å¿…å¡« | é»˜è®¤å€¼   | è¯´æ˜     | ç¤ºä¾‹                                 |
| ---------- | -------- | ---- | ---- | -------- | -------- | ------------------------------------ |
| id         | UUID     | 36   | âœ…   | è‡ªåŠ¨ç”Ÿæˆ | æ—¥å¿— ID  | 550e8400-e29b-41d4-a716-446655440000 |
| userId     | UUID     | 36   | âœ…   | -        | ç”¨æˆ· ID  | 550e8400-e29b-41d4-a716-446655440000 |
| action     | String   | 100  | âœ…   | -        | æ“ä½œç±»å‹ | login/update_profile/change_password |
| detail     | JSON     | -    | âŒ   | null     | æ“ä½œè¯¦æƒ… | {"ip": "192.168.1.1"}                |
| ipAddress  | String   | 50   | âŒ   | null     | IP åœ°å€  | 192.168.1.1                          |
| userAgent  | String   | 255  | âŒ   | null     | ç”¨æˆ·ä»£ç† | Mozilla/5.0...                       |
| created_at | DateTime | -    | âœ…   | è‡ªåŠ¨ç”Ÿæˆ | åˆ›å»ºæ—¶é—´ | 2025-10-24 10:00:00                  |

**å…³è”å…³ç³»**:

- å¤šå¯¹ä¸€: Userï¼ˆç”¨æˆ·ï¼‰

### 4. VehicleModelï¼ˆè½¦å‹æ¨¡æ¿ï¼‰

**è¡¨å**: `vehicle_models`
**å®ä½“æ–‡ä»¶**: `backend/src/entities/VehicleModel.ts`
**è¯´æ˜**: æ ‡å‡†åŒ–çš„è½¦å‹ä¿¡æ¯ï¼Œä¾›å…·ä½“è½¦è¾†å¼•ç”¨

| å­—æ®µå       | ç±»å‹     | é•¿åº¦ | å¿…å¡« | é»˜è®¤å€¼   | è¯´æ˜           | ç¤ºä¾‹                                 |
| ------------ | -------- | ---- | ---- | -------- | -------------- | ------------------------------------ |
| id           | UUID     | 36   | âœ…   | è‡ªåŠ¨ç”Ÿæˆ | è½¦å‹ ID        | 550e8400-e29b-41d4-a716-446655440000 |
| modelName    | String   | 100  | âœ…   | -        | è½¦å‹åç§°       | å®‡é€š T20 æˆ¿è½¦ A å‹                   |
| brand        | String   | 50   | âœ…   | -        | å“ç‰Œ           | å®‡é€š                                 |
| model        | String   | 50   | âœ…   | -        | å‹å·           | T20                                  |
| category     | Enum     | -    | âœ…   | -        | è½¦å‹åˆ†ç±»       | type_b/type_c/trailer                |
| seatCount    | Int      | -    | âœ…   | -        | åº§ä½æ•°         | 4                                    |
| bedCount     | Int      | -    | âœ…   | -        | åºŠä½æ•°         | 2                                    |
| length       | String   | 50   | âŒ   | null     | è½¦èº«é•¿åº¦ï¼ˆç±³ï¼‰ | 5.99                                 |
| width        | String   | 50   | âŒ   | null     | è½¦èº«å®½åº¦ï¼ˆç±³ï¼‰ | 2.3                                  |
| height       | String   | 50   | âŒ   | null     | è½¦èº«é«˜åº¦ï¼ˆç±³ï¼‰ | 3.2                                  |
| weight       | String   | 50   | âŒ   | null     | æ•´å¤‡è´¨é‡ï¼ˆkgï¼‰ | 3500                                 |
| facilities   | JSON     | -    | âŒ   | null     | è®¾æ–½é…ç½®åˆ—è¡¨   | ["WiFi", "ç©ºè°ƒ", "å¨æˆ¿"]             |
| images       | JSON     | -    | âŒ   | null     | è½¦å‹å›¾ç‰‡åˆ—è¡¨   | ["url1", "url2"]                     |
| description  | Text     | -    | âŒ   | null     | è½¦å‹è¯¦æƒ…å¯Œæ–‡æœ¬ | è±ªå A å‹æˆ¿è½¦ï¼Œé€‚åˆå®¶åº­å‡ºæ¸¸          |
| dailyPrice   | Decimal  | 10,2 | âœ…   | -        | æ—¥ç§Ÿä»·         | 599.00                               |
| weeklyPrice  | Decimal  | 10,2 | âŒ   | null     | å‘¨ç§Ÿä»·         | 3999.00                              |
| monthlyPrice | Decimal  | 10,2 | âŒ   | null     | æœˆç§Ÿä»·         | 15999.00                             |
| deposit      | Decimal  | 10,2 | âœ…   | -        | æŠ¼é‡‘           | 5000.00                              |
| isActive     | Boolean  | -    | âœ…   | true     | æ˜¯å¦å¯ç”¨       | true/false                           |
| created_at   | DateTime | -    | âœ…   | è‡ªåŠ¨ç”Ÿæˆ | åˆ›å»ºæ—¶é—´       | 2025-10-24 10:00:00                  |
| updated_at   | DateTime | -    | âœ…   | è‡ªåŠ¨æ›´æ–° | æ›´æ–°æ—¶é—´       | 2025-10-24 10:00:00                  |

**å…³è”å…³ç³»**:

- ä¸€å¯¹å¤š: Vehicleï¼ˆè½¦è¾†ï¼‰

### 5. Vehicleï¼ˆè½¦è¾†ï¼‰

**è¡¨å**: `vehicles`
**å®ä½“æ–‡ä»¶**: `backend/src/entities/Vehicle.ts`
**è¯´æ˜**: å…·ä½“è½¦è¾†çš„æ¡£æ¡ˆä¿¡æ¯

| å­—æ®µå           | ç±»å‹     | é•¿åº¦ | å¿…å¡« | é»˜è®¤å€¼    | è¯´æ˜             | ç¤ºä¾‹                                 |
| ---------------- | -------- | ---- | ---- | --------- | ---------------- | ------------------------------------ |
| id               | UUID     | 36   | âœ…   | è‡ªåŠ¨ç”Ÿæˆ  | è½¦è¾† ID          | 550e8400-e29b-41d4-a716-446655440001 |
| licensePlate     | String   | 20   | âœ…   | -         | è½¦ç‰Œå·ï¼ˆå”¯ä¸€ï¼‰   | äº¬ A12345                            |
| vin              | String   | 50   | âœ…   | -         | VIN ç ï¼ˆå”¯ä¸€ï¼‰   | LZYTBAA12345678901                   |
| vehicleModelId   | UUID     | 36   | âœ…   | -         | è½¦å‹æ¨¡æ¿ ID      | 550e8400-e29b-41d4-a716-446655440000 |
| ownershipType    | Enum     | -    | âœ…   | platform  | æ‰€æœ‰æƒç±»å‹       | platform/crowdfunding                |
| storeId          | UUID     | 36   | âŒ   | null      | æ‰€å±é—¨åº— ID      | 550e8400-e29b-41d4-a716-446655440000 |
| status           | Enum     | -    | âœ…   | available | è½¦è¾†çŠ¶æ€         | available/rented/maintenance/retired |
| actualFacilities | JSON     | -    | âŒ   | null      | å®é™…é…ç½®åˆ—è¡¨     | ["WiFi", "ç©ºè°ƒ"]                     |
| images           | JSON     | -    | âŒ   | null      | è½¦è¾†å›¾ç‰‡åˆ—è¡¨     | ["url1", "url2"]                     |
| year             | Int      | -    | âœ…   | -         | è½¦è¾†å¹´ä»½         | 2023                                 |
| mileage          | Int      | -    | âœ…   | 0         | å½“å‰é‡Œç¨‹æ•°ï¼ˆkmï¼‰ | 5000                                 |
| remarks          | Text     | -    | âŒ   | null      | å¤‡æ³¨ä¿¡æ¯         | è½¦å†µè‰¯å¥½                             |
| created_at       | DateTime | -    | âœ…   | è‡ªåŠ¨ç”Ÿæˆ  | åˆ›å»ºæ—¶é—´         | 2025-10-24 10:00:00                  |
| updated_at       | DateTime | -    | âœ…   | è‡ªåŠ¨æ›´æ–°  | æ›´æ–°æ—¶é—´         | 2025-10-24 10:00:00                  |

**å…³è”å…³ç³»**:

- å¤šå¯¹ä¸€: VehicleModelï¼ˆè½¦å‹æ¨¡æ¿ï¼‰
- ä¸€å¯¹å¤š: Orderï¼ˆè®¢å•ï¼‰
- ä¸€å¯¹å¤š: VehicleMaintenanceRecordï¼ˆç»´æŠ¤è®°å½•ï¼‰
- ä¸€å¯¹å¤š: VehicleTransferï¼ˆè°ƒåº¦è®°å½•ï¼‰
- ä¸€å¯¹ä¸€: CrowdfundingProjectï¼ˆä¼—ç­¹é¡¹ç›®ï¼‰

### 6. VehicleMaintenanceRecordï¼ˆè½¦è¾†ç»´æŠ¤è®°å½•ï¼‰

**è¡¨å**: `vehicle_maintenance_records`
**å®ä½“æ–‡ä»¶**: `backend/src/entities/VehicleMaintenanceRecord.ts`
**è¯´æ˜**: è½¦è¾†ç»´æŠ¤ä¿å…»è®°å½•

| å­—æ®µå          | ç±»å‹     | é•¿åº¦ | å¿…å¡« | é»˜è®¤å€¼   | è¯´æ˜         | ç¤ºä¾‹                                 |
| --------------- | -------- | ---- | ---- | -------- | ------------ | ------------------------------------ |
| id              | UUID     | 36   | âœ…   | è‡ªåŠ¨ç”Ÿæˆ | è®°å½• ID      | 550e8400-e29b-41d4-a716-446655440000 |
| vehicleId       | UUID     | 36   | âœ…   | -        | è½¦è¾† ID      | 550e8400-e29b-41d4-a716-446655440001 |
| maintenanceType | Enum     | -    | âœ…   | -        | ç»´æŠ¤ç±»å‹     | routine/repair/accident              |
| description     | Text     | -    | âœ…   | -        | ç»´æŠ¤æè¿°     | æ›´æ¢æœºæ²¹ã€æœºæ»¤                       |
| cost            | Decimal  | 10,2 | âŒ   | null     | ç»´æŠ¤è´¹ç”¨     | 500.00                               |
| maintenanceDate | Date     | -    | âœ…   | -        | ç»´æŠ¤æ—¥æœŸ     | 2025-10-24                           |
| nextMaintenance | Date     | -    | âŒ   | null     | ä¸‹æ¬¡ç»´æŠ¤æ—¥æœŸ | 2025-11-24                           |
| status          | Enum     | -    | âœ…   | -        | çŠ¶æ€         | pending/completed/cancelled          |
| created_at      | DateTime | -    | âœ…   | è‡ªåŠ¨ç”Ÿæˆ | åˆ›å»ºæ—¶é—´     | 2025-10-24 10:00:00                  |
| updated_at      | DateTime | -    | âœ…   | è‡ªåŠ¨æ›´æ–° | æ›´æ–°æ—¶é—´     | 2025-10-24 10:00:00                  |

**å…³è”å…³ç³»**:

- å¤šå¯¹ä¸€: Vehicleï¼ˆè½¦è¾†ï¼‰

### 7. VehicleTransferï¼ˆè½¦è¾†è°ƒåº¦è®°å½•ï¼‰

**è¡¨å**: `vehicle_transfers`
**å®ä½“æ–‡ä»¶**: `backend/src/entities/VehicleTransfer.ts`
**è¯´æ˜**: è½¦è¾†åœ¨é—¨åº—ä¹‹é—´çš„è°ƒåº¦è®°å½•

| å­—æ®µå       | ç±»å‹     | é•¿åº¦ | å¿…å¡« | é»˜è®¤å€¼   | è¯´æ˜        | ç¤ºä¾‹                                 |
| ------------ | -------- | ---- | ---- | -------- | ----------- | ------------------------------------ |
| id           | UUID     | 36   | âœ…   | è‡ªåŠ¨ç”Ÿæˆ | è°ƒåº¦ ID     | 550e8400-e29b-41d4-a716-446655440000 |
| vehicleId    | UUID     | 36   | âœ…   | -        | è½¦è¾† ID     | 550e8400-e29b-41d4-a716-446655440001 |
| fromStoreId  | UUID     | 36   | âœ…   | -        | æºé—¨åº— ID   | 550e8400-e29b-41d4-a716-446655440000 |
| toStoreId    | UUID     | 36   | âœ…   | -        | ç›®æ ‡é—¨åº— ID | 550e8400-e29b-41d4-a716-446655440000 |
| transferDate | Date     | -    | âœ…   | -        | è°ƒåº¦æ—¥æœŸ    | 2025-10-24                           |
| reason       | String   | 255  | âŒ   | null     | è°ƒåº¦åŸå›     | é—¨åº—åº“å­˜è°ƒæ•´                         |
| status       | Enum     | -    | âœ…   | -        | çŠ¶æ€        | pending/completed/cancelled          |
| created_at   | DateTime | -    | âœ…   | è‡ªåŠ¨ç”Ÿæˆ | åˆ›å»ºæ—¶é—´    | 2025-10-24 10:00:00                  |
| updated_at   | DateTime | -    | âœ…   | è‡ªåŠ¨æ›´æ–° | æ›´æ–°æ—¶é—´    | 2025-10-24 10:00:00                  |

**å…³è”å…³ç³»**:

- å¤šå¯¹ä¸€: Vehicleï¼ˆè½¦è¾†ï¼‰

### 8. Orderï¼ˆè®¢å•ï¼‰

**è¡¨å**: `orders`
**å®ä½“æ–‡ä»¶**: `backend/src/entities/Order.ts`
**è¯´æ˜**: è®¢å•ä¿¡æ¯ï¼Œæ”¯æŒå¤šç§è®¢å•ç±»å‹ï¼ˆæˆ¿è½¦ç§Ÿèµã€ç‰¹æƒ ç§Ÿè½¦ã€è¥åœ°é¢„è®¢ã€å®šåˆ¶æ—…æ¸¸ï¼‰

| å­—æ®µå             | ç±»å‹     | é•¿åº¦ | å¿…å¡« | é»˜è®¤å€¼    | è¯´æ˜           | ç¤ºä¾‹                                                          |
| ------------------ | -------- | ---- | ---- | --------- | -------------- | ------------------------------------------------------------- |
| id                 | UUID     | 36   | âœ…   | è‡ªåŠ¨ç”Ÿæˆ  | è®¢å• ID        | 550e8400-e29b-41d4-a716-446655440002                          |
| orderNo            | String   | 32   | âœ…   | -         | è®¢å•å·ï¼ˆå”¯ä¸€ï¼‰ | ORD20251024000001                                             |
| userId             | UUID     | 36   | âœ…   | -         | ç”¨æˆ· ID        | 550e8400-e29b-41d4-a716-446655440000                          |
| vehicleId          | UUID     | 36   | âœ…   | -         | è½¦è¾† ID        | 550e8400-e29b-41d4-a716-446655440001                          |
| orderType          | Enum     | -    | âœ…   | rv_rental | è®¢å•ç±»å‹       | rv_rental/special_offer/campsite/custom_tour                  |
| startDate          | Date     | -    | âœ…   | -         | å¼€å§‹æ—¥æœŸ       | 2025-10-25                                                    |
| endDate            | Date     | -    | âœ…   | -         | ç»“æŸæ—¥æœŸ       | 2025-10-27                                                    |
| rentalDays         | Int      | -    | âœ…   | -         | ç§Ÿèµå¤©æ•°       | 2                                                             |
| pickupStoreId      | UUID     | 36   | âŒ   | null      | å–è½¦é—¨åº— ID    | 550e8400-e29b-41d4-a716-446655440000                          |
| returnStoreId      | UUID     | 36   | âŒ   | null      | è¿˜è½¦é—¨åº— ID    | 550e8400-e29b-41d4-a716-446655440000                          |
| rentalPrice        | Decimal  | 10,2 | âœ…   | -         | ç§Ÿèµä»·æ ¼       | 1198.00                                                       |
| insurancePrice     | Decimal  | 10,2 | âœ…   | 0         | ä¿é™©ä»·æ ¼       | 100.00                                                        |
| additionalServices | JSON     | -    | âŒ   | null      | é™„åŠ æœåŠ¡       | [{"name": "WiFi", "price": 50}]                               |
| totalPrice         | Decimal  | 10,2 | âœ…   | -         | æ€»ä»·æ ¼         | 1348.00                                                       |
| deposit            | Decimal  | 10,2 | âœ…   | 0         | æŠ¼é‡‘           | 5000.00                                                       |
| status             | Enum     | -    | âœ…   | pending   | è®¢å•çŠ¶æ€       | pending/paid/pickup/using/return/completed/cancelled/refunded |
| paymentStatus      | Enum     | -    | âœ…   | unpaid    | æ”¯ä»˜çŠ¶æ€       | unpaid/paid/refunding/refunded                                |
| pickupTime         | DateTime | -    | âŒ   | null      | å–è½¦æ—¶é—´       | 2025-10-25 10:00:00                                           |
| returnTime         | DateTime | -    | âŒ   | null      | è¿˜è½¦æ—¶é—´       | 2025-10-27 10:00:00                                           |
| remarks            | Text     | -    | âŒ   | null      | è®¢å•å¤‡æ³¨       | éœ€è¦å©´å„¿åº§æ¤…                                                  |
| cancellationReason | Text     | -    | âŒ   | null      | å–æ¶ˆåŸå›        | è¡Œç¨‹å˜æ›´                                                      |
| refundAmount       | Decimal  | 10,2 | âŒ   | null      | é€€æ¬¾é‡‘é¢       | 1348.00                                                       |
| paidAt             | DateTime | -    | âŒ   | null      | æ”¯ä»˜æ—¶é—´       | 2025-10-24 10:00:00                                           |
| cancelledAt        | DateTime | -    | âŒ   | null      | å–æ¶ˆæ—¶é—´       | 2025-10-24 10:00:00                                           |
| completedAt        | DateTime | -    | âŒ   | null      | å®Œæˆæ—¶é—´       | 2025-10-27 10:00:00                                           |
| created_at         | DateTime | -    | âœ…   | è‡ªåŠ¨ç”Ÿæˆ  | åˆ›å»ºæ—¶é—´       | 2025-10-24 10:00:00                                           |
| updated_at         | DateTime | -    | âœ…   | è‡ªåŠ¨æ›´æ–°  | æ›´æ–°æ—¶é—´       | 2025-10-24 10:00:00                                           |

**å…³è”å…³ç³»**:

- å¤šå¯¹ä¸€: Userï¼ˆç”¨æˆ·ï¼‰
- å¤šå¯¹ä¸€: Vehicleï¼ˆè½¦è¾†ï¼‰
- ä¸€å¯¹å¤š: PaymentRecordï¼ˆæ”¯ä»˜è®°å½•ï¼‰
- ä¸€å¯¹å¤š: RefundRecordï¼ˆé€€æ¬¾è®°å½•ï¼‰

---

## æ”¯ä»˜ä¸è´¢åŠ¡æ¨¡å‹

### 9. Walletï¼ˆé’±åŒ…ï¼‰

**è¡¨å**: `wallets`
**å®ä½“æ–‡ä»¶**: `backend/src/entities/Wallet.ts`
**è¯´æ˜**: ç”¨æˆ·é’±åŒ…ï¼Œæ¯ä¸ªç”¨æˆ·åªèƒ½æœ‰ä¸€ä¸ªé’±åŒ…

| å­—æ®µå          | ç±»å‹     | é•¿åº¦ | å¿…å¡« | é»˜è®¤å€¼   | è¯´æ˜            | ç¤ºä¾‹                                 |
| --------------- | -------- | ---- | ---- | -------- | --------------- | ------------------------------------ |
| id              | UUID     | 36   | âœ…   | è‡ªåŠ¨ç”Ÿæˆ | é’±åŒ… ID         | 550e8400-e29b-41d4-a716-446655440000 |
| userId          | UUID     | 36   | âœ…   | -        | ç”¨æˆ· IDï¼ˆå”¯ä¸€ï¼‰ | 550e8400-e29b-41d4-a716-446655440000 |
| balance         | Decimal  | 12,2 | âœ…   | 0        | é’±åŒ…ä½™é¢        | 1000.00                              |
| frozenAmount    | Decimal  | 12,2 | âœ…   | 0        | å†»ç»“é‡‘é¢        | 100.00                               |
| totalRecharge   | Decimal  | 12,2 | âœ…   | 0        | ç´¯è®¡å……å€¼é‡‘é¢    | 5000.00                              |
| totalConsume    | Decimal  | 12,2 | âœ…   | 0        | ç´¯è®¡æ¶ˆè´¹é‡‘é¢    | 4000.00                              |
| totalWithdrawal | Decimal  | 12,2 | âœ…   | 0        | ç´¯è®¡æç°é‡‘é¢    | 100.00                               |
| status          | Enum     | -    | âœ…   | active   | é’±åŒ…çŠ¶æ€        | active/frozen/closed                 |
| createdAt       | DateTime | -    | âœ…   | è‡ªåŠ¨ç”Ÿæˆ | åˆ›å»ºæ—¶é—´        | 2025-10-24 10:00:00                  |
| updatedAt       | DateTime | -    | âœ…   | è‡ªåŠ¨æ›´æ–° | æ›´æ–°æ—¶é—´        | 2025-10-24 10:00:00                  |

**å…³è”å…³ç³»**:

- ä¸€å¯¹ä¸€: Userï¼ˆç”¨æˆ·ï¼‰
- ä¸€å¯¹å¤š: WalletTransactionï¼ˆé’±åŒ…äº¤æ˜“è®°å½•ï¼‰

### 10. WalletTransactionï¼ˆé’±åŒ…äº¤æ˜“è®°å½•ï¼‰

**è¡¨å**: `wallet_transactions`
**å®ä½“æ–‡ä»¶**: `backend/src/entities/WalletTransaction.ts`
**è¯´æ˜**: è®°å½•æ‰€æœ‰é’±åŒ…çš„èµ„é‡‘å˜åŠ¨

| å­—æ®µå       | ç±»å‹     | é•¿åº¦ | å¿…å¡« | é»˜è®¤å€¼   | è¯´æ˜                                    | ç¤ºä¾‹                                                          |
| ------------ | -------- | ---- | ---- | -------- | --------------------------------------- | ------------------------------------------------------------- |
| id           | UUID     | 36   | âœ…   | è‡ªåŠ¨ç”Ÿæˆ | äº¤æ˜“ ID                                 | 550e8400-e29b-41d4-a716-446655440000                          |
| walletId     | UUID     | 36   | âœ…   | -        | é’±åŒ… ID                                 | 550e8400-e29b-41d4-a716-446655440000                          |
| userId       | UUID     | 36   | âœ…   | -        | ç”¨æˆ· ID                                 | 550e8400-e29b-41d4-a716-446655440000                          |
| type         | Enum     | -    | âœ…   | -        | äº¤æ˜“ç±»å‹                                | recharge/consume/refund/withdrawal/adjustment/freeze/unfreeze |
| amount       | Decimal  | 12,2 | âœ…   | -        | äº¤æ˜“é‡‘é¢ï¼ˆæ­£æ•°æˆ–è´Ÿæ•°ï¼‰                  | 100.00                                                        |
| balanceAfter | Decimal  | 12,2 | âœ…   | -        | äº¤æ˜“åä½™é¢                              | 1100.00                                                       |
| relatedId    | UUID     | 36   | âŒ   | null     | å…³è” IDï¼ˆè®¢å• IDã€å……å€¼ IDã€æç° ID ç­‰ï¼‰ | 550e8400-e29b-41d4-a716-446655440000                          |
| relatedType  | String   | 20   | âŒ   | null     | å…³è”ç±»å‹                                | order/recharge/withdrawal                                     |
| description  | String   | 255  | âŒ   | null     | äº¤æ˜“æè¿°                                | è®¢å•æ”¯ä»˜                                                      |
| operatorId   | String   | 50   | âŒ   | null     | æ“ä½œäºº IDï¼ˆç®¡ç†å‘˜è°ƒæ•´æ—¶è®°å½•ï¼‰           | 550e8400-e29b-41d4-a716-446655440000                          |
| remarks      | Text     | -    | âŒ   | null     | å¤‡æ³¨ï¼ˆè°ƒæ•´åŸå› ç­‰ï¼‰                      | ç³»ç»Ÿè¡¥å¿                                                      |
| createdAt    | DateTime | -    | âœ…   | è‡ªåŠ¨ç”Ÿæˆ | åˆ›å»ºæ—¶é—´                                | 2025-10-24 10:00:00                                           |

**å…³è”å…³ç³»**:

- å¤šå¯¹ä¸€: Walletï¼ˆé’±åŒ…ï¼‰

### 11. PaymentConfigï¼ˆæ”¯ä»˜é…ç½®ï¼‰

**è¡¨å**: `payment_configs`
**å®ä½“æ–‡ä»¶**: `backend/src/entities/PaymentConfig.ts`
**è¯´æ˜**: æ”¯ä»˜å¹³å°é…ç½®ä¿¡æ¯ï¼ˆå¾®ä¿¡ã€æ”¯ä»˜å®ã€é’±åŒ…ï¼‰

| å­—æ®µå     | ç±»å‹     | é•¿åº¦ | å¿…å¡« | é»˜è®¤å€¼   | è¯´æ˜             | ç¤ºä¾‹                                 |
| ---------- | -------- | ---- | ---- | -------- | ---------------- | ------------------------------------ |
| id         | UUID     | 36   | âœ…   | è‡ªåŠ¨ç”Ÿæˆ | é…ç½® ID          | 550e8400-e29b-41d4-a716-446655440000 |
| platform   | Enum     | -    | âœ…   | -        | æ”¯ä»˜å¹³å°         | wechat/alipay/wallet                 |
| appId      | String   | 100  | âŒ   | null     | åº”ç”¨ ID          | wx1234567890                         |
| mchId      | String   | 100  | âŒ   | null     | å•†æˆ· ID          | 1234567890                           |
| apiKey     | String   | 255  | âŒ   | null     | API å¯†é’¥ï¼ˆåŠ å¯†ï¼‰ | encrypted_key                        |
| certPath   | String   | 255  | âŒ   | null     | è¯ä¹¦è·¯å¾„         | /path/to/cert.pem                    |
| isEnabled  | Boolean  | -    | âœ…   | false    | æ˜¯å¦å¯ç”¨         | true/false                           |
| config     | JSON     | -    | âŒ   | null     | å…¶ä»–é…ç½®         | {"notifyUrl": "https://..."}         |
| created_at | DateTime | -    | âœ…   | è‡ªåŠ¨ç”Ÿæˆ | åˆ›å»ºæ—¶é—´         | 2025-10-24 10:00:00                  |
| updated_at | DateTime | -    | âœ…   | è‡ªåŠ¨æ›´æ–° | æ›´æ–°æ—¶é—´         | 2025-10-24 10:00:00                  |

### 12. PaymentRecordï¼ˆæ”¯ä»˜è®°å½•ï¼‰

**è¡¨å**: `payment_records`
**å®ä½“æ–‡ä»¶**: `backend/src/entities/PaymentRecord.ts`
**è¯´æ˜**: è®¢å•çš„æ”¯ä»˜ä¿¡æ¯ï¼ŒåŒ…æ‹¬æ”¯ä»˜å¹³å°ã€æ”¯ä»˜é‡‘é¢ã€æ”¯ä»˜çŠ¶æ€ç­‰

| å­—æ®µå                  | ç±»å‹     | é•¿åº¦ | å¿…å¡« | é»˜è®¤å€¼   | è¯´æ˜                         | ç¤ºä¾‹                                          |
| ----------------------- | -------- | ---- | ---- | -------- | ---------------------------- | --------------------------------------------- |
| id                      | UUID     | 36   | âœ…   | è‡ªåŠ¨ç”Ÿæˆ | æ”¯ä»˜è®°å½• ID                  | 550e8400-e29b-41d4-a716-446655440000          |
| paymentNo               | String   | 64   | âœ…   | -        | æ”¯ä»˜å•å·ï¼ˆå”¯ä¸€ï¼‰             | PAY20251024000001                             |
| orderId                 | UUID     | 36   | âœ…   | -        | è®¢å• ID                      | 550e8400-e29b-41d4-a716-446655440002          |
| userId                  | UUID     | 36   | âœ…   | -        | ç”¨æˆ· ID                      | 550e8400-e29b-41d4-a716-446655440000          |
| amount                  | Decimal  | 10,2 | âœ…   | -        | æ”¯ä»˜é‡‘é¢                     | 1348.00                                       |
| platform                | Enum     | -    | âœ…   | -        | æ”¯ä»˜å¹³å°                     | wechat/alipay/wallet                          |
| status                  | Enum     | -    | âœ…   | pending  | æ”¯ä»˜çŠ¶æ€                     | pending/paying/paid/cancelled/refunded/failed |
| thirdPartyOrderNo       | String   | 128  | âŒ   | null     | ç¬¬ä¸‰æ–¹è®¢å•å·                 | 4200001234567890                              |
| thirdPartyTransactionNo | String   | 128  | âŒ   | null     | ç¬¬ä¸‰æ–¹äº¤æ˜“å·                 | 1234567890123456789                           |
| paymentParams           | JSON     | -    | âŒ   | null     | æ”¯ä»˜å‚æ•°ï¼ˆç”¨äºå‰ç«¯è°ƒèµ·æ”¯ä»˜ï¼‰ | {"prepay_id": "wx..."}                        |
| paidAt                  | DateTime | -    | âŒ   | null     | æ”¯ä»˜å®Œæˆæ—¶é—´                 | 2025-10-24 10:00:00                           |
| expiredAt               | DateTime | -    | âŒ   | null     | è¿‡æœŸæ—¶é—´ï¼ˆ15 åˆ†é’Ÿåè¿‡æœŸï¼‰    | 2025-10-24 10:15:00                           |
| remark                  | String   | 500  | âŒ   | null     | å¤‡æ³¨                         | è®¢å•æ”¯ä»˜                                      |
| createdAt               | DateTime | -    | âœ…   | è‡ªåŠ¨ç”Ÿæˆ | åˆ›å»ºæ—¶é—´                     | 2025-10-24 10:00:00                           |
| updatedAt               | DateTime | -    | âœ…   | è‡ªåŠ¨æ›´æ–° | æ›´æ–°æ—¶é—´                     | 2025-10-24 10:00:00                           |

**å…³è”å…³ç³»**:

- å¤šå¯¹ä¸€: Orderï¼ˆè®¢å•ï¼‰
- å¤šå¯¹ä¸€: Userï¼ˆç”¨æˆ·ï¼‰
