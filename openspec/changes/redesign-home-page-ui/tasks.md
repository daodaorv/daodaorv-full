# Tasks: 重新设计小程序首页 UI 原型

**Change ID**: `redesign-home-page-ui`  
**Status**: 🟡 In Progress  
**Created**: 2025-10-30

---

## Task Breakdown

### Phase 1: 设计原型 ✅

#### Task 1.1: 创建 OpenSpec 变更提案 ✅
- [x] 编写 proposal.md
- [x] 说明重新设计的原因和目标
- [x] 定义设计变更内容
- [x] 列出影响范围

**完成时间**: 2025-10-30  
**负责人**: AI Assistant

---

#### Task 1.2: 创建 HTML 原型 ✅
- [x] 创建 `miniprogram/pages-prototype/home-redesign.html`
- [x] 应用最新品牌色彩系统（v2.0）
- [x] 实现顶部导航栏（城市定位 + 搜索）
- [x] 优化轮播广告（增加高度和圆角）
- [x] 重构房车预订模块（简化字段，橙色主题）
- [x] 优化金刚区（增大图标和间距）
- [x] 新增特惠商城模块（1:2 布局）
- [x] 新增会员卡推广模块（紫色渐变）
- [x] 新增社区精选模块（瀑布流布局）
- [x] 添加底部 TabBar
- [x] 实现所有交互功能
- [x] 添加动画效果

**完成时间**: 2025-10-30  
**负责人**: AI Assistant

---

#### Task 1.3: 在浏览器中测试原型 ✅
- [x] 打开 HTML 原型
- [x] 测试所有交互功能
- [x] 验证设计规范符合性
- [x] 检查色彩对比度

**完成时间**: 2025-10-30  
**负责人**: AI Assistant

---

### Phase 2: 用户确认 ⏳

#### Task 2.1: 用户查看原型
- [ ] 用户在浏览器中查看原型
- [ ] 用户确认设计风格
- [ ] 用户确认功能布局
- [ ] 用户提出修改意见（如有）

**预计时间**: 待定  
**负责人**: 用户

---

#### Task 2.2: 根据反馈调整原型（如需要）
- [ ] 根据用户反馈修改设计
- [ ] 更新 HTML 原型
- [ ] 重新提交用户确认

**预计时间**: 待定  
**负责人**: AI Assistant

---

### Phase 3: 正式开发（待用户确认后）

#### Task 3.1: 优化轮播广告组件
- [ ] 修改 `miniprogram/pages/index/components/BannerSwiper.vue`
- [ ] 增加图片高度（750px × 360px）
- [ ] 增加圆角（16rpx）
- [ ] 优化指示器样式（橙色）
- [ ] 延长自动播放时间（4 秒）

**预计时间**: 0.5 小时  
**负责人**: 待定

---

#### Task 3.2: 重构房车预订模块
- [ ] 修改 `miniprogram/pages/index/components/BookingModule.vue`
- [ ] 移除"取车城市"字段（使用顶部导航栏的城市）
- [ ] 移除"异地还车"选项（简化首页）
- [ ] 应用橙色主题色
- [ ] 优化按钮样式（橙色渐变 + 阴影）
- [ ] 增加卡片阴影效果

**预计时间**: 1 小时  
**负责人**: 待定

---

#### Task 3.3: 优化金刚区组件
- [ ] 修改 `miniprogram/pages/index/components/ServiceGrid.vue`
- [ ] 增大图标尺寸（64rpx）
- [ ] 增大文字大小（28rpx）
- [ ] 增加间距（32rpx）
- [ ] 添加悬停效果（橙色背景）

**预计时间**: 0.5 小时  
**负责人**: 待定

---

#### Task 3.4: 创建特惠商城组件
- [ ] 创建 `miniprogram/pages/index/components/SpecialOffers.vue`
- [ ] 实现 1:2 布局（左侧大图，右侧两个小图）
- [ ] 应用橙色价格标签
- [ ] 应用红色限时标签
- [ ] 添加点击跳转功能

**预计时间**: 1 小时  
**负责人**: 待定

---

#### Task 3.5: 创建会员卡推广组件
- [ ] 创建 `miniprogram/pages/index/components/MembershipCard.vue`
- [ ] 应用紫色渐变背景
- [ ] 实现会员权益展示
- [ ] 添加"立即开通"按钮
- [ ] 添加点击跳转功能

**预计时间**: 0.5 小时  
**负责人**: 待定

---

#### Task 3.6: 创建社区精选组件
- [ ] 创建 `miniprogram/pages/index/components/CommunitySection.vue`
- [ ] 实现瀑布流布局（两列）
- [ ] 显示作者头像和昵称
- [ ] 显示点赞数（蓝色图标）
- [ ] 添加点击跳转功能

**预计时间**: 1 小时  
**负责人**: 待定

---

#### Task 3.7: 更新主页面
- [ ] 修改 `miniprogram/pages/index/index.vue`
- [ ] 移除 NoticeBar 组件
- [ ] 移除 CouponBanner 组件
- [ ] 移除 RecommendList 组件
- [ ] 集成新的 SpecialOffers 组件
- [ ] 集成新的 MembershipCard 组件
- [ ] 集成新的 CommunitySection 组件
- [ ] 调整组件顺序

**预计时间**: 0.5 小时  
**负责人**: 待定

---

#### Task 3.8: 删除废弃组件
- [ ] 删除 `miniprogram/pages/index/components/NoticeBar.vue`
- [ ] 删除 `miniprogram/pages/index/components/CouponBanner.vue`
- [ ] 删除 `miniprogram/pages/index/components/RecommendList.vue`

**预计时间**: 0.1 小时  
**负责人**: 待定

---

### Phase 4: 测试验证

#### Task 4.1: 功能测试
- [ ] 测试轮播图自动播放
- [ ] 测试房车预订模块交互
- [ ] 测试金刚区点击跳转
- [ ] 测试特惠商城点击跳转
- [ ] 测试会员卡点击跳转
- [ ] 测试社区精选点击跳转
- [ ] 测试下拉刷新

**预计时间**: 1 小时  
**负责人**: 待定

---

#### Task 4.2: 设计规范验证
- [ ] 验证色彩使用符合 v2.0 规范
- [ ] 验证字体大小符合规范
- [ ] 验证间距符合规范
- [ ] 验证圆角符合规范
- [ ] 验证无障碍对比度符合 WCAG AA 标准

**预计时间**: 0.5 小时  
**负责人**: 待定

---

#### Task 4.3: 性能测试
- [ ] 测试首屏加载时间（目标 < 2s）
- [ ] 测试滚动流畅度
- [ ] 测试图片加载性能
- [ ] 优化性能问题（如有）

**预计时间**: 0.5 小时  
**负责人**: 待定

---

#### Task 4.4: 兼容性测试
- [ ] 微信开发者工具测试
- [ ] 真机测试（iOS）
- [ ] 真机测试（Android）
- [ ] 不同屏幕尺寸测试

**预计时间**: 1 小时  
**负责人**: 待定

---

### Phase 5: 文档更新

#### Task 5.1: 更新开发进度文档
- [ ] 更新 `docs/开发进度管理.md`
- [ ] 标记模块 17 为"UI 优化完成"
- [ ] 记录优化内容

**预计时间**: 0.2 小时  
**负责人**: 待定

---

#### Task 5.2: 归档 OpenSpec 变更
- [ ] 执行 `openspec archive redesign-home-page-ui --yes`
- [ ] 验证归档成功

**预计时间**: 0.1 小时  
**负责人**: 待定

---

## Summary

### 总任务数
- **已完成**: 3 个任务
- **进行中**: 1 个任务（用户确认）
- **待开始**: 18 个任务

### 预计总工时
- **设计原型**: 2 小时 ✅
- **用户确认**: 待定 ⏳
- **正式开发**: 5.6 小时
- **测试验证**: 3 小时
- **文档更新**: 0.3 小时
- **总计**: 约 11 小时（不含用户确认时间）

### 关键里程碑
1. ✅ 设计原型完成 - 2025-10-30
2. ⏳ 用户确认通过 - 待定
3. ⏸️ 正式开发完成 - 待定
4. ⏸️ 测试验证通过 - 待定
5. ⏸️ OpenSpec 归档 - 待定

---

## Notes

### 设计亮点
1. **品牌升级**: 应用最新的品牌色彩系统（橙色 + 紫色）
2. **视觉优化**: 现代极简主义、柔和渐变、充足留白
3. **体验提升**: 简化操作流程，突出核心功能
4. **性能优化**: 图片懒加载、组件按需加载、动画优化

### 技术要点
1. **色彩系统**: 严格遵循设计指南 v2.0
2. **无障碍**: 所有色彩对比度符合 WCAG AA 标准
3. **响应式**: 适配不同屏幕尺寸
4. **性能**: 首屏加载时间 < 2s

### 风险提示
1. **API 兼容性**: 确保现有 API 接口不受影响
2. **用户习惯**: 布局变化可能需要用户适应
3. **测试覆盖**: 需要充分测试各种场景

---

**最后更新**: 2025-10-30  
**更新人**: AI Assistant

